<section th:fragment="content">
    <div class="container">
        <h2>Histórico — <span th:text="${routine.name}">Rutina</span></h2>

        <div th:if="${#lists.isEmpty(logs)}" class="alert-info">
            Aún no hay registros para esta rutina.
        </div>

        <table class="table" th:if="${!#lists.isEmpty(logs)}">
            <thead>
            <tr><th>Fecha</th><th>Entradas</th><th>Detalle</th></tr>
            </thead>
            <tbody>
            <tr th:each="l : ${logs}">
                <td th:text="${l.date}">2025-11-01</td>
                <td th:text="${#lists.size(l.entries)}">0</td>
                <td>
                    <details>
                        <summary>ver</summary>
                        <ul>
                            <li th:each="e : ${l.entries}">
                                <span th:text="${(e.repsDone!=null? e.repsDone + ' reps':'' )}"></span>
                                <span th:if="${e.timeSeconds!=null}"
                                      th:text="${(e.repsDone!=null? ' / ' : '') + T(java.lang.Math).round(e.timeSeconds/60.0) + ' min'}"></span>
                                <span th:if="${e.effortRpe!=null}" th:text="${' / RPE ' + e.effortRpe}"></span>
                                <span th:if="${e.notes!=null && !#strings.isEmpty(e.notes)}"
                                      th:text="${' — ' + e.notes}"></span>
                            </li>
                        </ul>
                    </details>
                </td>
            </tr>
            </tbody>
        </table>

        <div style="margin-top:12px">
            <a class="btn" th:href="@{|/mvc/routines/detail?id=${routine.id}|}">Volver a la rutina</a>
        </div>
    </div>
</section>
