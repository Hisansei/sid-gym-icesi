<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{components/base :: page(
          title='Seleccionar rutina • Historial',
          content=~{::content}
      )}">
<section th:fragment="content">
    <link rel="stylesheet" th:href="@{/css/app.css}">
    <header class="site-header">
        <div class="container">
            <h1 class="page-title">Historial de progreso</h1>
            <p class="muted">Elige una rutina para ver su historial o registrar progreso.</p>
        </div>
    </header>

    <main class="container card">
        <table class="table">
            <thead><tr><th>Rutina</th><th>Ítems</th><th></th></tr></thead>
            <tbody>
            <tr th:if="${#lists.isEmpty(routines)}">
                <td class="muted" colspan="3">No tienes rutinas disponibles.</td>
            </tr>
            <tr th:each="r : ${routines}">
                <td th:text="${r.name}">Nombre</td>
                <td th:text="${#lists.size(r.exercises)}">0</td>
                <td class="table-actions">
                    <a class="btn btn-small" th:href="@{'/mvc/progress/history?routineId=' + ${r.id}}">Ver historial</a>
                    <a class="btn btn-small" th:href="@{'/mvc/progress/' + ${r.id}}">Registrar progreso</a>
                </td>
            </tr>
            </tbody>
        </table>
    </main>
</section>
</html>
