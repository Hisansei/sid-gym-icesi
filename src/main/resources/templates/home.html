<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{components/base :: page(
              title='Inicio',
              content=~{::content}
          )}">

<section th:fragment="content" class="home-page">
    <!-- CSS global del tema + CSS específico del home -->
    <link rel="stylesheet" th:href="@{/css/app.css}">
    <link rel="stylesheet" th:href="@{/css/home.css}">

    <div class="home-container">
        <!-- HEADER DEL HOME -->
        <header class="home-header">
            <h2>
                Hola,
                <span class="home-username" sec:authentication="name">usuario</span>
            </h2>
            <p>
                Bienvenido a SID Gym ICESI. Desde aquí puedes acceder a tus rutinas,
                plantillas, progreso y panel administrativo según tus permisos.
            </p>
        </header>

        <!-- GRID DE FUNCIONALIDADES PRINCIPALES -->
        <div class="features-grid">

            <!-- Mi progreso -->
            <article class="feature-card">
                <div class="feature-icon">
                    <span class="material-symbols-rounded">timeline</span>
                </div>
                <h3>Mi progreso</h3>
                <p>
                    Consulta la evolución de tus entrenamientos y revisa el historial
                    de sesiones que has registrado en el gimnasio.
                </p>
                <p>
                    <a class="btn btn-secondary" th:href="@{/mvc/progress/history}">
                        Ver mi progreso
                    </a>
                </p>
            </article>

            <!-- Mis rutinas -->
            <article class="feature-card">
                <div class="feature-icon">
                    <span class="material-symbols-rounded">fitness_center</span>
                </div>
                <h3>Mis rutinas</h3>
                <p>
                    Revisa y organiza tus rutinas asignadas, edítalas y lleva un
                    control claro de lo que debes hacer en cada sesión.
                </p>
                <p>
                    <a class="btn btn-secondary" th:href="@{/mvc/routines}">
                        Ir a mis rutinas
                    </a>
                </p>
            </article>

            <!-- Plantillas de rutina (solo entrenadores / admin) -->
            <article class="feature-card"
                     sec:authorize="hasAnyRole('TRAINER','ADMIN')">
                <div class="feature-icon">
                    <span class="material-symbols-rounded">content_copy</span>
                </div>
                <h3>Plantillas de rutina</h3>
                <p>
                    Diseña estructuras de entrenamiento reutilizables para tus
                    estudiantes y crea nuevas rutinas con un par de clics.
                </p>
                <p>
                    <a class="btn btn-secondary" th:href="@{/mvc/routine-templates}">
                        Gestionar plantillas
                    </a>
                </p>
            </article>

            <!-- Catálogo de ejercicios -->
            <article class="feature-card">
                <div class="feature-icon">
                    <span class="material-symbols-rounded">exercise</span>
                </div>
                <h3>Catálogo de ejercicios</h3>
                <p>
                    Explora los ejercicios disponibles, sus descripciones y detalles
                    técnicos para armar rutinas más completas y seguras.
                </p>
                <p>
                    <a class="btn btn-secondary" th:href="@{/mvc/exercises}">
                        Ver ejercicios
                    </a>
                </p>
            </article>

            <!-- Reportes (entrenadores / admin) -->
            <article class="feature-card"
                     sec:authorize="hasAnyRole('TRAINER','ADMIN')">
                <div class="feature-icon">
                    <span class="material-symbols-rounded">analytics</span>
                </div>
                <h3>Reportes del gimnasio</h3>
                <p>
                    Analiza información consolidada sobre uso del gimnasio, usuarios
                    y desempeño para tomar mejores decisiones.
                </p>
                <p>
                    <a class="btn btn-secondary" th:href="@{/mvc/reports/select}">
                        Ir a reportes
                    </a>
                </p>
            </article>

            <!-- Panel de administración (solo admin) -->
            <article class="feature-card"
                     sec:authorize="hasRole('ADMIN')">
                <div class="feature-icon">
                    <span class="material-symbols-rounded">admin_panel_settings</span>
                </div>
                <h3>Panel de administración</h3>
                <p>
                    Gestiona usuarios, entrenadores y asignaciones de estudiantes
                    directamente desde el panel administrativo.
                </p>
                <p>
                    <a class="btn btn-secondary" th:href="@{/mvc/admin/users}">
                        Ir a administración
                    </a>
                </p>
            </article>

        </div>
    </div>
</section>
</html>
