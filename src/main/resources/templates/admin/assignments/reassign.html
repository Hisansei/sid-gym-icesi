<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Reasignar entrenador</title>
    <link rel="stylesheet" th:href="@{/css/app.css}">
</head>
<body>
<main class="container narrow card space-y">
    <h1>Reasignar entrenador</h1>

    <!-- Mensajes flash -->
    <div th:if="${msg_success}" class="alert success" th:text="${msg_success}"></div>
    <div th:if="${msg_warn}" class="alert warning" th:text="${msg_warn}"></div>
    <div th:if="${msg_error}" class="alert danger" th:text="${msg_error}"></div>

    <div class="muted">
        <div>Usuario: <strong th:text="${userUsername}"></strong></div>
        <div th:if="${current != null}">
            Actual:
            <strong th:text="${current.trainerId}"></strong>
            (desde <span th:text="${#temporals.format(current.assignedAt, 'yyyy-MM-dd HH:mm')}"></span>)
        </div>
        <div th:if="${current == null}">
            No tiene asignaci√≥n vigente.
        </div>
    </div>

    <form th:action="@{/mvc/admin/assignments/reassign}" method="post" class="form">
        <input type="hidden" name="userUsername" th:value="${userUsername}">
        <label>Nuevo entrenador (username)
            <input name="newTrainerUsername" type="text" required placeholder="p.ej. coach2"/>
        </label>
        <div class="form-actions">
            <button class="btn" type="submit">Reasignar</button>
            <a class="btn btn-secondary" th:href="@{/mvc/admin/assignments}">Cancelar</a>
        </div>
    </form>
</main>
</body>
</html>